<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/series.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pouchdb@9.0.0/dist/pouchdb.min.js"></script>
  <title>Séries</title>
</head>

<body>
  <header>
    <a href="#" class="logo">
      <img src="./assets/img/netflixlogo.png" alt="Logo Netflix">
    </a>

  <ul class="navigation">
    <li><a href="#">Home</a></li>
    <li><a href="series.html">Séries</a></li>
    <li><a href="index.html">Filmes</a></li>
    <li><a href="#">Esportes</a></li>
    <li><a href="#">Minha Lista</a></li>
  </ul>

<div class="filtro-genero">
  <label for="generoSelect">Filtrar por gênero:</label>
  <select id="generoSelect">
    <option value="">Todos</option>
    <option value="Ação">Ação</option>
    <option value="Comédia">Comédia</option>
    <option value="Drama">Drama</option>
    <option value="Terror">Terror</option>
    <option value="Documentário">Documentário</option>
    <option value="Ficção Científica">Ficção Científica</option>
    <option value="Romance">Romance</option>
    <option value="Animação">Animação</option>
    <option value="Crime">Crime</option>
    <option value="Animaçãos">Desastre</option>
  </select>
</div>

<div class="d-flex align-items-center gap-3">
      <div class="search">
        <input type="text" placeholder="Pesquisar" />
        <i class="bi bi-search"></i>
      </div>
      <div class="d-flex align-items-center gap-2">
        <div class="user-menu">
          <i class="bi bi-person-circle" onclick="verificarUsuario()"></i>
        </div>
        <div class="notifications">
          <i class="bi bi-bell"></i>
          <span class="badge">3</span>
        </div>
      </div>
    </div>
  </header>

  <section class="banner p-4" data-titulo="The Big Bang Theory">
    <video class="bg w-100" src="./assets/video/The Big Bang Theory - 10ª Temporada Completa Trailer Oficial.mp4" autoplay muted loop></video>
    <div class="overlay-left"></div>
    <div class="content text-white position-absolute top-50 start-0 translate-middle-y ps-4">
      <img src="./assets/img/TheBigBangTheory.png" alt="The Big Bang Theory" class="movietitle mb-3" />
      <h4>
        <span>2007</span> 
        <span>12 Temporadas</span> 
        <span><i>+10</i></span> 
        <span>Comédia</span>
      </h4>
      <p>Uma mulher se muda para um apartamento do outro lado do corredor perto de dois físicos brilhantes, mas socialmente desajeitados...</p>

      <div class="buttons d-flex gap-2 mt-3">
        <button class="btn btn-light"><i class="bi bi-play-fill"></i> Assistir</button>
        <button class="btn btn-light"><i class="bi bi-check-circle"></i> Marcar como Assistido</button>
        <button class="btn btn-outline-light"><i class="bi bi-plus-lg"></i> Minha Lista</button>
        <button class="btn btn-ver-episodios ver-episodios-btn"><i class="bi bi-list-ul"></i> Ver Episódios</button>
      </div>
    </div>
  </section>

  <section id="episodiosContainer" class="container episodios-container d-none">
    <h3 class="text-white">Episódios</h3>
    <div class="mb-3">
      <label for="temporadaSelect" class="form-label text-white">Selecione a Temporada:</label>
      <select id="temporadaSelect" class="form-select w-auto">
      </select>
    </div>
    <div class="row" id="episodiosLista"></div>
  </section>

  <section class="banner"
    data-titulo="Peaky Blinders"
    data-capa="./assets/img/PeakyBlinder.png"
    data-genero="Crime"
    data-descricao="Depois de servir no Exército, Thomas Shelby e seus irmãos voltam para controlar a cidade, mas conforme as ambições de Shelby se estendem, ele planeja construir seu próprio negócio e impedir qualquer um que atrapalhe."
    data-trailer="https://www.youtube.com/watch?v=EXEMPLO2">
    <video class="bg" src="./assets/video/Peaky Blinders - Temporada Final - Trailer Legendado (HD).mp4" autoplay muted loop></video>
    <div class="overlay-left"></div>
    <div class="content">
      <img src="./assets/img/PeakyBlinder.png" alt="Título da Série" class="movietitle" />
      <h4>
        <span>2013</span>
        <span>6 Temporadas</span>
        <span><i>+16</i></span>
        <span>Crime</span>
      </h4>
      <p>Depois de servir no Exército, Thomas Shelby e seus irmãos voltam para controlar a cidade, mas, conforme as ambições de Shelby se estendem, ele 
        planeja construir seu próprio negócio e impedir qualquer um que atrapalhe.</p>
      <div class="buttons">
        <button class="btn btn-light"><i class="bi bi-play-fill"></i> Assistir</button>
        <button class="btn btn-light marcar-assistido"><i class="bi bi-check-circle"></i> Marcar como Assistido</button>
        <button class="btn btn-outline-light"><i class="bi bi-plus-lg"></i> Minha Lista</button>
        <button class="btn btn-ver-episodios ver-episodios-btn"><i class="bi bi-list-ul"></i> Ver Episódios</button>
      </div>
    </div>
  </section>

    <section id="episodiosContainer" class="container episodios-container d-none">
      <h3 class="text-white">Episódios</h3>
      <div class="mb-3">
        <label for="temporadaSelect" class="form-label text-white">Selecione a Temporada:</label>
        <select id="temporadaSelect-pb" class="form-select w-auto temporada-select">
        </select>
      </div>
      <div class="row episodios-lista"></div>
    </section>

  <section class="banner"
    data-titulo="Chernobyl"
    data-capa="./assets/img/Chernobyllogo.png"
    data-genero="Desastre"
    data-descricao="A minissérie foca no escândalo devastador do desastre da usina nuclear que ocorreu na Ucrânia em abril de 1986..."
    data-trailer="https://www.youtube.com/watch?v=EXEMPLO3">
    <video class="bg" src="./assets/video/Chernobyl (2019) ｜ Trailer Legendado - 1ª Temporada.mp4" autoplay muted loop></video>
    <div class="overlay-left"></div>
    <div class="content">
      <img src="./assets/img/Chernobyllogo.png" alt="Título da Série" class="movietitle" />
      <h4>
        <span>2019</span>
        <span>1 Temporada</span>
        <span><i>+16</i></span>
        <span>Desastre</span>
      </h4>
      <p>A minissérie foca no escândalo devastador do desastre da usina nuclear que ocorreu na Ucrânia em abril de 1986, revelando como e 
        por que aconteceu e contando as histórias chocantes e notáveis daqueles que lutaram e caíram</p>
      <div class="buttons">
        <button class="btn btn-light"><i class="bi bi-play-fill"></i> Assistir</button>
        <button class="btn btn-light marcar-assistido"><i class="bi bi-check-circle"></i> Marcar como Assistido</button>
        <button class="btn btn-outline-light"><i class="bi bi-plus-lg"></i> Minha Lista</button>
        <button class="btn btn-ver-episodios ver-episodios-btn"><i class="bi bi-list-ul"></i> Ver Episódios</button>
      </div>
    </div>
  </section>

  <section id="episodiosContainer" class="container episodios-container d-none">
    <h3 class="text-white">Episódios</h3>
    <div class="mb-3">
      <label for="temporadaSelect" class="form-label text-white">Selecione a Temporada:</label>
      <select id="temporadaSelect" class="form-select w-auto">
      </select>
    </div>
    <div class="row" id="episodiosLista"></div>
  </section>

  <section class="banner"
    data-titulo="The Last of Us"
    data-capa="./assets/img/TheLastOfUslogo.png"
    data-genero="Desastre"
    data-descricao="A minissérie foca no escândalo devastador do desastre da usina nuclear que ocorreu na Ucrânia em abril de 1986..."
    data-trailer="https://www.youtube.com/watch?v=EXEMPLO3">
    <video class="bg" src="./assets/video/The Last of Us ｜ Trailer da temporada 01 ｜ Legendado (Brasil) [4K].mp4" autoplay muted loop></video>
    <div class="overlay-left"></div>
    <div class="content">
      <img src="./assets/img/TheLastOfUslogo.png" alt="Título da Série" class="movietitle" />
      <h4>
        <span>2023</span>
        <span>1 Temporada</span>
        <span><i>+16</i></span>
        <span>Ação</span>
      </h4>
      <p>Joel e Ellie, um par conectado pela dureza do mundo em que vivem, são forçados a suportar circunstâncias brutais e assassinos implacáveis 
        em uma jornada pela América pós-pandemia.</p>
      <div class="buttons">
        <button class="btn btn-light"><i class="bi bi-play-fill"></i> Assistir</button>
        <button class="btn btn-light marcar-assistido"><i class="bi bi-check-circle"></i> Marcar como Assistido</button>
        <button class="btn btn-outline-light"><i class="bi bi-plus-lg"></i> Minha Lista</button>
        <button class="btn btn-ver-episodios ver-episodios-btn"><i class="bi bi-list-ul"></i> Ver Episódios</button>
      </div>
    </div>
  </section>

  <section id="episodiosContainer" class="container episodios-container d-none">
    <h3 class="text-white">Episódios</h3>
    <div class="mb-3">
      <label for="temporadaSelect" class="form-label text-white">Selecione a Temporada:</label>
      <select id="temporadaSelect" class="form-select w-auto">
      </select>
    </div>
    <div class="row" id="episodiosLista"></div>
  </section>

  <script src="./js/app.js"></script>
  <script>
    document.querySelectorAll('.marcar-assistido').forEach(botao => {
      botao.addEventListener('click', function () {
        const banner = this.closest('.banner');
        const titulo = banner.dataset.titulo;
        const capa = banner.dataset.capa;
        const genero = banner.dataset.genero;
        const descricao = banner.dataset.descricao;
        const trailer = banner.dataset.trailer;

        marcarComoAssistido(titulo, capa, genero, descricao, trailer);
        alert(`"${titulo}" foi marcado como assistido.`);
      });
    });
  </script>
  <script>
  const generoSelect = document.getElementById('generoSelect');
  if (generoSelect) {
    generoSelect.addEventListener('change', () => {
      const genero = generoSelect.value;
      carregarFilmes(genero); // atualiza as series mostrados
    });
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const verEpisodiosBtn = document.getElementById("verEpisodiosBtn");
    const episodiosContainer = document.getElementById("episodiosContainer");
    const episodiosLista = document.getElementById("episodiosLista");
    const temporadaSelect = document.getElementById("temporadaSelect");

    // Dados fictícios de exemplo
    const episodios = {
      "The Big Bang Theory": {
      "1": [
        { titulo: "Episódio 1 - Piloto", descricao: "Um par de físicos desajeitados conhecem sua nova vizinha, Penny que é o oposto deles.", imagem: "./assets/img/thebigbangtheorytemp1ep1.jpg"},
        { titulo: "Episódio 2 - A Hipótese do Grande Farelo", descricao: "Penny fica furiosa com Leonard e Sheldon quando eles entram em seu apartamento à noite e o limpam enquanto ela está dormindo", imagem: "./assets/img/thebigbangtheorytemp1ep2.jpg" },
        { titulo: "Episódio 3 - A Disputa de Botas no Corolário", descricao: "Leonard fica chateado quando descobre que Penny está saindo com um cara novo, então, seguindo um conselho de Sheldon, ele tenta convidá-la para um encontro.", imagem: "./assets/img/thebigbangtheorytemp1ep3.jpg" },
        { titulo: "Episódio 4 - O Efeito Luminoso do Peixe", descricao: "A mãe de Sheldon é chamada para intervir em suas ações, quando ele mergulha em inúmeras obsessões após ser demitido pelo seu novo chefe na Caltech por desrespeitá-lo.", imagem: "./assets/img/thebigbangtheorytemp1ep4.jpg" },
        { titulo: "Episódio 5 - O Hamburger Postulado", descricao: "Leslie seduz Leonard, porém depois diz a ele que apenas está interessada em um caso de uma noite.", imagem: "./assets/img/thebigbangtheorytemp1ep5.jpg" }
      ],
      "2": [
        { titulo: "Episódio 1 - O Paradigma do Peixe Podre", descricao: "Leonard fica preocupado quando seu encontro com Penny acaba abruptamente e ela começa a dispensá-lo. Quando Penny conta o motivo a Sheldon, ele prefere se mudar do que manter os motivos de Penny em segredo de Leonard.", imagem: "./assets/img/thebigbangtheorytemp2ep1.jpg" },
        { titulo: "Episódio 2 - A Topologia do Alçapão", descricao: "Sheldon se irrita quando Leonard pede consolo a sua arqui-inimiga, Leslie após ver Penny com outro cara.", imagem: "./assets/img/thebigbangtheorytemp2ep2.jpg" },
        { titulo: "Episódio 3 - A Sublimação Bárbara", descricao: "Sheldon apresenta a Penny um jogo online, porém ela se recusa a parar após se tornar viciada neste jogo.", imagem: "./assets/img/thebigbangtheorytemp2ep3.jpg" }
      ]
    } ,

    "Peaky Blinders": {
      "1": [
        { titulo: "Episódio 1 - Piloto", descricao: "Thomas Shelby e sua gangue controlam Birmingham, mas a chegada de um novo inspetor ameaça seus negócios.", imagem: "./assets/img/peakyblinderstemp1ep1.jpg" },
        { titulo: "Episódio 2 - A Ascensão", descricao: "Thomas planeja expandir seus negócios, mas enfrenta resistência de outros gangsters locais.", imagem: "./assets/img/peakyblinderstemp1ep2.jpg" },
        { titulo: "Episódio 3 - Conflitos", descricao: "A rivalidade entre gangues aumenta, levando a confrontos violentos nas ruas de Birmingham.", imagem: "./assets/img/peakyblinderstemp1ep3.jpg" }
      ]
    }
  };

    // Preencher o select com base nas temporadas disponíveis
    Object.keys(episodios).forEach(temp => {
    const option = document.createElement("option");
    option.value = temp;
    option.textContent = `Temporada ${temp}`;
    temporadaSelect.appendChild(option);
  });

  function exibirEpisodios(serie, temporada) {
  episodiosLista.innerHTML = "";

  const lista = (episodios[serie] && episodios[serie][temporada]) || [];

  lista.forEach(ep => {
    const col = document.createElement("div");
    col.classList.add("col-md-4", "col-lg-3", "mb-4");

    col.innerHTML = `
      <div class="episodio-card h-100 text-white rounded shadow" style="background-image: url('${ep.imagem}'); background-size: cover; background-position: center;">
        <div style="background-color: rgba(0,0,0,0.8); padding: 1rem; border-radius: 10px; height: 100%;">
          <h5>${ep.titulo}</h5>
          <p>${ep.descricao}</p>
        </div>
      </div>
    `;

    episodiosLista.appendChild(col);
  });
}


  // Aplica evento a todos os botões com a classe .ver-episodios-btn
  document.querySelectorAll(".ver-episodios-btn").forEach(botao => {
  botao.addEventListener("click", () => {
    const banner = botao.closest(".banner");
    const serie = banner.dataset.titulo;

    if (!episodios[serie]) {
      alert("Episódios não disponíveis para esta série ainda.");
      return;
    }

    // Limpa e preenche o select de temporadas com base na série clicada
    temporadaSelect.innerHTML = "";
    Object.keys(episodios[serie]).forEach(temp => {
      const option = document.createElement("option");
      option.value = temp;
      option.textContent = `Temporada ${temp}`;
      temporadaSelect.appendChild(option);
    });

    episodiosContainer.classList.remove("d-none");
    exibirEpisodios(serie, temporadaSelect.value || "1");
    episodiosContainer.scrollIntoView({ behavior: "smooth" });

    // Salva série ativa para troca de temporada
    temporadaSelect.setAttribute("data-serie", serie);
  });
});


  temporadaSelect.addEventListener("change", () => {
  const serie = temporadaSelect.getAttribute("data-serie");
  const temporada = temporadaSelect.value;
  exibirEpisodios(serie, temporada);
});

  // Inicializa a exibição dos episódios da primeira série
  if (temporadaSelect.options.length > 0) {
    const primeiraSerie = temporadaSelect.options[0].value;
    exibirEpisodios(primeiraSerie, "1");
  }
});

  
</script>



</body>
</html>
